# Kernel
a basic kernel

Included bash scripts to build and run using qemu which you can add to a linux machine with sudo apt-get install qemu x86
Also place your kernel in /Documents to get a proper build or modify the build scrip to your needs!
Very simple Kernel that is bootable.

This project is a continuation of a kernel project started in CS 301. By the end of the semester in 301 we had a simple shell created where the user could input text and it would show up on the screen. Our goal for this semester was to add more functionality to our kernel. Our goals were to add simple file systems, users, and a few commands that the user could run. We found out very early on that a lot of the code would need to be rewritten to be able to expand on what we had so far.

The first thing we tried to change was rewriting our shell so that it was separate from the kernel. We had an idea that the kernel would store the keyboard input somewhere in memory and a program could choose what to do with the data without using the interrupt itself. This was much more difficult than expected. Our idea was to have a loop constantly checking that spot in memory. As expected the last entered character would keep being written to the screen. We then though to set a flag that once the input was used it couldn't be used again until another key was hit. When doing this the character would print for as long as the button was hit so even tapping to button would result in many characters printing to the screen. We then decided that it would be easier to just keep the shell baked into the kernel.

We were also unable to make our file system or users. Users would be pretty easy if we could have come up with a way to read and write data to a text file. After many hours of trying to get a file system to work we finally got the assembly code to jump to run another function. We were unable to ever get back to our kernel for some reason still unknown to us.

We did however make some good progress. The code was all over the place when we began this semester and we were able to get rid of a lot of the code smell and repeated code. We were also able to add caps lock functionality along with being able to move the cursor using the arrow keys. At the moment we are working on a functions that can read the input from the user and determine which function needs to be called. Right now we are using a series of if statements that check for each input and then will run the desired function depending on what the user inputs. This is not the ideal way to go about this but it seems that it is the easiest.

By the time presentations come around we hope to have added more functions, for instance a simple calculator, a hex/binary converter, and/or hangman. We also hope to add the ability to cycle through past inputs. If time allows we would like to handle our sting input in a better way. Right now we are still just using character arrays which would become a huge security flaw down the line. At the moment our kernel does not do too much so there's not much of a security issue there. Another security flaw is the fact that all of our keyboard interrupt information is stored in a global struct that can be used by any program.
